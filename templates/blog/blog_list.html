{% extends "base.html" %}
{% block title %}News | Ziada Tours & Travels{% endblock %}

{% block nav %}
    {% include "partials/navbar.html" %}
{% endblock %}

{% block content %}

    <main class="min-h-screen pt-32 pb-24 text-white">

        <section class="relative overflow-hidden">
            <br><br><br>
            <div class="absolute inset-0">
                <div class="absolute -top-32 -right-32 w-96 h-96 rounded-full bg-primary/20 blur-3xl"></div>
                <div class="absolute top-10 left-10 w-72 h-72 rounded-full bg-orange-500/10 blur-3xl"></div>
                <div class="absolute inset-0 bg-gradient-to-b from-black/80 via-black/40 to-transparent"></div>
            </div>
            <div class="relative max-w-7xl mx-auto px-6 lg:px-8">
                <div class="grid grid-cols-1 lg:grid-cols-12 gap-10 items-end">
                    <div class="lg:col-span-7">
                        <p class="text-primary font-bold tracking-[0.35em] uppercase text-xs mb-4">Ziada Blogs</p>
                        <h1 class="text-4xl sm:text-6xl font-serif font-black leading-tight">News, Insights &amp; <span class="text-primary italic">Luxury Travel Stories</span></h1>
                        <p class="text-gray-300 mt-6 text-lg leading-relaxed max-w-2xl">Curated updates from across Africa, exclusive safari tips, and behind-the-scenes travel expertise from Ziada Tours &amp; Travels.</p>
                        <div class="mt-8 flex flex-col sm:flex-row gap-4">
                            <form action="{% url 'blog-search' %}" method="get" class="flex flex-grow max-w-xl">
                                <input name="q" type="text" placeholder="Search destinations, itineraries, experiences..." class="w-full bg-white/5 border border-white/10 rounded-l-xl px-4 py-3 text-sm text-white placeholder:text-gray-400 focus:outline-none focus:border-primary" />
                                <button type="submit" class="bg-primary px-5 py-3 rounded-r-xl text-sm font-bold uppercase tracking-widest hover:bg-orange-600 transition-colors">Search</button>
                            </form>
                            <a href="#latest" class="px-6 py-3 border border-white/20 rounded-xl text-sm font-semibold hover:border-primary hover:text-primary transition-colors text-center">Explore Latest</a>
                        </div>
                        <div class="mt-8 flex flex-wrap gap-3">
                            {% for category in categories %}
                                <a href="{% url 'category-detail' category.slug %}" class="px-4 py-2 rounded-full border border-white/10 text-xs uppercase tracking-widest text-gray-300 hover:border-primary hover:text-primary transition-colors">{{ category.title }}</a>
                            {% empty %}
                                <span class="text-gray-500 text-sm">No categories yet.</span>
                            {% endfor %}
                        </div>
                    </div>
                    <div class="lg:col-span-5">
                        {% if featured_posts %}
                            {% with featured_posts.0 as featured %}
                                <a href="{% url 'blog-detail' featured.slug %}" class="group block glass rounded-3xl overflow-hidden border border-white/10 hover:border-primary/50 transition-all">
                                    <div class="relative h-64">
                                        {% if featured.image %}
                                            <img src="{{ featured.image.url }}" alt="{{ featured.title }}" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105" />
                                        {% else %}
                                            <div class="w-full h-full bg-gradient-to-br from-primary/30 via-black/50 to-black/80"></div>
                                        {% endif %}
                                        <div class="absolute inset-0 bg-gradient-to-t from-black via-black/30 to-transparent"></div>
                                        <div class="absolute top-5 left-5">
                                            <span class="bg-primary text-white text-[10px] font-black uppercase tracking-widest px-4 py-1.5 rounded-full">Featured</span>
                                        </div>
                                    </div>
                                    <div class="p-6">
                                        <h2 class="text-2xl font-serif font-bold">{{ featured.title }}</h2>
                                        <p class="text-gray-400 mt-3 line-clamp-3">{{ featured.excerpt|striptags }}</p>
                                        <span class="inline-flex items-center gap-2 text-primary font-semibold mt-4">Read Story <i class="fa-solid fa-arrow-right text-xs"></i></span>
                                    </div>
                                </a>
                            {% endwith %}
                        {% else %}
                            <div class="glass rounded-3xl p-8 border border-white/10">
                                <p class="text-gray-400">Featured story will appear here.</p>
                            </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </section>

        <section id="latest" class="max-w-7xl mx-auto px-6 lg:px-8 mt-16">
            <div class="flex flex-col lg:flex-row gap-10">
                <div class="flex-1">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-3xl font-serif font-bold">Latest News</h2>
                        <div class="hidden md:flex items-center gap-2 text-xs uppercase tracking-[0.3em] text-gray-500">
                            <span class="w-8 h-px bg-primary/60"></span> Updated Weekly
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        {% for post in posts %}
                            <article class="group glass rounded-2xl overflow-hidden border border-white/10 hover:border-primary/40 transition-all">
                                <div class="relative h-48">
                                    {% if post.image %}
                                        <img src="{{ post.image.url }}" alt="{{ post.title }}" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105" />
                                    {% else %}
                                        <div class="w-full h-full bg-gradient-to-br from-primary/20 via-black/60 to-black"></div>
                                    {% endif %}
                                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"></div>
                                </div>
                                <div class="p-6">
                                    <div class="flex items-center gap-3 text-xs uppercase tracking-widest text-gray-500 mb-3">
                                        <span>{{ post.category.title|default:"Ziada" }}</span>
                                        <span class="w-1.5 h-1.5 rounded-full bg-primary"></span>
                                        <span>{{ post.created|date:"M d, Y" }}</span>
                                    </div>
                                    <h3 class="text-xl font-bold leading-snug">{{ post.title }}</h3>
                                    <p class="text-gray-400 mt-3 line-clamp-2">{{ post.excerpt|striptags }}</p>
                                    <a href="{% url 'blog-detail' post.slug %}" class="inline-flex items-center gap-2 text-primary font-semibold mt-4">Read More <i class="fa-solid fa-arrow-right text-xs"></i></a>
                                </div>
                            </article>
                        {% empty %}
                            <div class="glass p-8 rounded-2xl text-gray-400">No posts yet.</div>
                        {% endfor %}
                    </div>
                </div>

                <aside class="lg:w-80 space-y-8">
                    <div class="glass rounded-2xl p-6 border border-white/10">
                        <h3 class="text-lg font-bold mb-4">Trending Now</h3>
                        <div class="space-y-4">
                            {% for post in trending_posts %}
                                <a href="{% url 'blog-detail' post.slug %}" class="group block">
                                    <p class="text-sm text-gray-400 uppercase tracking-widest">{{ post.category.title|default:"Trending" }}</p>
                                    <h4 class="text-base font-semibold group-hover:text-primary transition-colors">{{ post.title }}</h4>
                                </a>
                            {% empty %}
                                <p class="text-gray-400 text-sm">No trending posts yet.</p>
                            {% endfor %}
                        </div>
                    </div>
                    <div class="glass rounded-2xl p-6 border border-white/10">
                        <h3 class="text-lg font-bold mb-4">Why Ziada</h3>
                        <ul class="space-y-3 text-sm text-gray-400">
                            <li class="flex items-start gap-3"><span class="text-primary"><i class="fa-solid fa-circle-check"></i></span> Guaranteed price &amp; departure date.</li>
                            <li class="flex items-start gap-3"><span class="text-primary"><i class="fa-solid fa-circle-check"></i></span> Flexible itineraries tailored to your pace.</li>
                            <li class="flex items-start gap-3"><span class="text-primary"><i class="fa-solid fa-circle-check"></i></span> 24/7 expert support with fast response.</li>
                        </ul>
                    </div>
                    <div class="rounded-2xl p-6 border border-primary/30 bg-gradient-to-br from-primary/15 via-black/60 to-black">
                        <h3 class="text-lg font-bold">Stay Inspired</h3>
                        <p class="text-gray-300 text-sm mt-2">Get curated safari tips and destination highlights straight to your inbox.</p>
                        <form class="mt-4 flex">
                            <input type="email" placeholder="Email address" class="w-full bg-white/10 border border-white/10 rounded-l-xl px-3 py-2 text-sm text-white placeholder:text-gray-400 focus:outline-none focus:border-primary" />
                            <button type="button" class="bg-primary px-4 rounded-r-xl text-sm font-bold uppercase tracking-widest hover:bg-orange-600 transition-colors">Join</button>
                        </form>
                    </div>
                </aside>
            </div>
        </section>
    </main>
{% endblock %}
